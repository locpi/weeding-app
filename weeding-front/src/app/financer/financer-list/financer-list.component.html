<div class="p-6">
	<div class="flex justify-between items-center mb-6">
		<h1 class="text-2xl font-semibold">Financers</h1>
		<button mat-raised-button color="primary" (click)="openDialog()">
			Add Financer
		</button>
	</div>

	<mat-form-field class="w-full">
		<mat-label>Filter</mat-label>
		<input matInput (keyup)="applyFilter($event)" placeholder="Ex. Bank" #input>
	</mat-form-field>

	<div class="mat-elevation-z8">
		<table mat-table [dataSource]="dataSource" matSort class="w-full">
			<ng-container matColumnDef="code">
				<th mat-header-cell *matHeaderCellDef > Code </th>
				<td mat-cell *matCellDef="let row"> {{row.code}} </td>
			</ng-container>

			<ng-container matColumnDef="label">
				<th mat-header-cell *matHeaderCellDef > Label </th>
				<td mat-cell *matCellDef="let row"> {{row.label}} </td>
			</ng-container>

			<ng-container matColumnDef="financerTypeList">
				<th mat-header-cell *matHeaderCellDef> Types </th>
				<td mat-cell *matCellDef="let row">
						<mat-chip *ngFor="let type of row.financerTypeList" class="text-xs">
							{{type}}
						</mat-chip>
				</td>
			</ng-container>

			<ng-container matColumnDef="population">
				<th mat-header-cell *matHeaderCellDef> Population </th>
				<td mat-cell *matCellDef="let row">
					<mat-chip *ngFor="let type of row.population" class="text-xs">
						{{type}}
					</mat-chip>
				</td>
			</ng-container>


			<ng-container matColumnDef="actions">
				<th mat-header-cell *matHeaderCellDef> Actions </th>
				<td mat-cell *matCellDef="let row">
					<button mat-icon-button color="primary" (click)="openDialog(row)">
						<mat-icon>edit</mat-icon>
					</button>
					<button mat-icon-button color="warn" (click)="deleteFinancer(row)">
						<mat-icon>delete</mat-icon>
					</button>
				</td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

			<tr class="mat-row" *matNoDataRow>
				<td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
			</tr>
		</table>

		<mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of financers"></mat-paginator>
	</div>
</div>